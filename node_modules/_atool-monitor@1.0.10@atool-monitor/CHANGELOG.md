# Changelog

---

## 1.0.10

- 💄 内部项目提示推荐使用 `Bigfish`。

## 1.0.9

- 🐞 修复 `getPkgJSON(realVersion)` 函数中参数 `realVersion` 可能为 undefined 的问题。

## 1.0.8

- 🌟 新增未经修改的 `package.json` 的上报。

## 1.0.7

- 🐞 使用 `jsonfile-updater` 库替换 `json-updater` 库，以修复新增 `bigfishAppId` 字段时会打乱 `package.json` 文件的问题。

## 1.0.6

- 🌟 简化接口的传入参数

## 1.0.5

- 🐞 修复在非 `git` 项目中运行 `git log` 命令出错可能导致的上报数据进程阻塞的问题。
- 💄 优化获取项目开发者信息的方式。
- 🗑 去除获取 `Bigfish` 配置相关代码，相关配置由 `Bigfish` 直接传入。

## 1.0.4

- 🌟 `reportData` 和 `reportBuildData` 支持返回 `promise` 对象。

## 1.0.3

- 🐞 修复获取 git 信息命令的 skip 参数拼写错误可能导致的死循环问题。

## 1.0.2

- 🐞 修复 `bigfish` 版本为 `1.x` 时不存在 `appType`、`deployMode` 的问题。
- 🐞 修复函数 `getGitUserInfo(skip)` 中 `skip` 没有默认值的问题。

## 1.0.1

- 🐞 修改上报应用信息的 URL，避免与 0.x 版本的 URL 冲突。

## 1.0.0

- 🌟 新增对 bigfish 的支持。
- 🌟 新增 dev 信息的上报。
- 🌟 新增 build 信息的上报。

不兼容改动

- 原先只暴露用于上报应用信息的 `emit` 接口，现在暴露 `reportData` 和 `reportBuildData` 两个接口：
    - reportData: 上报应用信息和 dev 信息。
    - reportBuildData: 上报构建信息。

## 0.4.5

- 环境变量 ALI_MONITOR=none 时可关闭阿里内网环境验证和数据上报。

## 0.3.0

- feature: 增加对 gitconfig 中 user.name user.info 的收集。
